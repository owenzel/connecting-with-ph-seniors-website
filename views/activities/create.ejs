<%- include ("./../partials/messages"); %>
<% const availableDates = getDateRangeStartingToday(2, 0, 0, 0); %>

<div class="container">
    <h3>Create an Activity Post</h3>
    <div class="row">
        <form action="/activities/create" method="POST" class="col s12">
            <div class="row">
                <div class="input-field">
                    <input
                        type="text"
                        name="title"
                    >
                    <label for="title">What is the Activity Title?</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field">
                    <input
                        type="date"
                        name="date"
                        min=<%= formatDate(availableDates[0], 'YYYY-MM-DD') %>
                        max=<%= formatDate(availableDates[1], 'YYYY-MM-DD') %>
                    >
                    <label for="date">When Will the Activity Take Place?</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field">
                    <input
                        type="time"
                        name="time"
                    >
                    <label for="time">At What Time Will the Activity Occur?</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field">
                    <input
                        type="text"
                        name="leaderName"
                    >
                    <label for="leaderName">Who is the Activity Leader?</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field">
                    <select id="leaderUsername" name="leaderUsername">
                      <option value="" selected>The Activity Leader Does Not Have an Account</option>
                      <% users.forEach(user => { %>
                        <option value="<%= user.username %>"><%= user.username %></option>
                      <% }); %>
                    </select>
                    <label for="leaderUsername">What is the Activity Leader's Username?</label>
                  </div>
            </div>

            <div class="row">
                <div class="input-field">
                    <h5>Describe the Activity.</h5>
                    <textarea id="body" name="body"></textarea>
                </div>
            </div>

            <div class="row">
                <button type="submit" class="btn"><i class="fas fa-check"></i> Save</button>
                <a href="/activities/my-activities" class="btn orange"><i class="fas fa-times-circle"></i> Cancel</a>
            </div>
        </form>
    </div>
</div>